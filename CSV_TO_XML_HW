import pandas as pd

url = 'https://www.hurtowniaprzemyslowa.pl/xml/hurtowniaprzemyslowa_csv.csv'

# Načíst CSV data s explicitním nastavením:
# - 'sep=";"'  ... CSV je oddělené středníkem
# - 'quotechar="'"  ... sloupce s textem/HTML jsou v uvozovkách
# - 'engine="python"'  ... parser je tolerantnější vůči komplikovaným řádkům
# - 'on_bad_lines="skip"' (dostupné od Pandas 1.3+) ... přeskočí problematické řádky, místo aby vyhodil chybu
data = pd.read_csv(
    url,
    sep=';',
    quotechar='"',
    engine='python',
    on_bad_lines='skip'
)

# Převést do XML
xml_data = data.to_xml()

# Uložit XML do souboru
with open('data.xml', 'w') as file:
    file.write(xml_data)
